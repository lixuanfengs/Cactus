import{_ as h,c as r,a,g as l,e as i,w as p,f as e,o as d,h as o}from"./app-BoWQpgSW.js";const k={};function c(g,s){const n=e("Mermaid"),t=e("RouteLink");return d(),r("div",null,[s[3]||(s[3]=a('<h1 id="cloudflare-优选ip-基础教程" tabindex="-1"><a class="header-anchor" href="#cloudflare-优选ip-基础教程"><span>Cloudflare 优选IP 基础教程</span></a></h1><h2 id="什么是-cloudflare-优选ip" tabindex="-1"><a class="header-anchor" href="#什么是-cloudflare-优选ip"><span>什么是 Cloudflare 优选IP</span></a></h2><p>Cloudflare 优选IP 是指通过测试和筛选，找出延迟最低、连接最稳定的 Cloudflare CDN 节点IP地址。通过使用优选IP，可以显著提升网站的访问速度和稳定性。</p><h2 id="为什么需要优选ip" tabindex="-1"><a class="header-anchor" href="#为什么需要优选ip"><span>为什么需要优选IP</span></a></h2><h3 id="🚀-主要优势" tabindex="-1"><a class="header-anchor" href="#🚀-主要优势"><span>🚀 主要优势</span></a></h3><ol><li><strong>降低延迟</strong> - 选择距离最近、响应最快的节点</li><li><strong>提高稳定性</strong> - 避开网络状况不佳的节点</li><li><strong>优化用户体验</strong> - 加快页面加载速度</li><li><strong>节省带宽</strong> - 减少重复请求和超时</li></ol><h3 id="📊-性能提升" tabindex="-1"><a class="header-anchor" href="#📊-性能提升"><span>📊 性能提升</span></a></h3><ul><li>平均延迟降低 30-60%</li><li>页面加载速度提升 2-5 倍</li><li>连接成功率提升至 95% 以上</li></ul><h2 id="优选ip-工作原理" tabindex="-1"><a class="header-anchor" href="#优选ip-工作原理"><span>优选IP 工作原理</span></a></h2><h3 id="基本流程" tabindex="-1"><a class="header-anchor" href="#基本流程"><span>基本流程</span></a></h3>',10)),l(n,{id:"mermaid-63",code:"eJxLL0osyFAIceFSAALH6Bd925/2T/MMeLZua6yCrq6dglP0s86dL9v7n23tfrF+aixYmRNYxjn66e5tL/bPf757/ot1CyEyzmAZl+jnKzY/XTfrWcPyZ4sbgDohki5gSdfoJ3tmvGzofNY36emufoiMK1jGLfrprinPp6x42dr7fO+6WC4AfPFFBA=="}),s[4]||(s[4]=a(`<h3 id="关键指标" tabindex="-1"><a class="header-anchor" href="#关键指标"><span>关键指标</span></a></h3><ol><li><strong>延迟时间</strong> - 响应时间越短越好</li><li><strong>丢包率</strong> - 丢包率越低越好</li><li><strong>稳定性</strong> - 连接成功率要高</li><li><strong>速度</strong> - 下载速度要快</li></ol><h2 id="常用测试工具" tabindex="-1"><a class="header-anchor" href="#常用测试工具"><span>常用测试工具</span></a></h2><h3 id="_1-cloudflarest" tabindex="-1"><a class="header-anchor" href="#_1-cloudflarest"><span>1. CloudflareST</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载最新版本</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/XIU2/CloudflareSpeedTest/releases/latest/download/CloudflareST_linux_amd64.tar.gz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 解压运行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CloudflareST_linux_amd64.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./CloudflareST</span></span></code></pre></div><h3 id="_2-在线测试工具" tabindex="-1"><a class="header-anchor" href="#_2-在线测试工具"><span>2. 在线测试工具</span></a></h3><ul><li><a href="https://speed.cloudflare.com/" target="_blank" rel="noopener noreferrer">Cloudflare Speed Test</a></li><li><a href="https://www.17ce.com/" target="_blank" rel="noopener noreferrer">17CE网站测速</a></li><li><a href="http://ping.chinaz.com/" target="_blank" rel="noopener noreferrer">站长工具Ping检测</a></li></ul><h3 id="_3-自定义脚本" tabindex="-1"><a class="header-anchor" href="#_3-自定义脚本"><span>3. 自定义脚本</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 简单的ping测试脚本</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> ip</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ip_list.txt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    ping</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $ip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;avg&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">results.txt</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">done</span></span></code></pre></div><h2 id="实际应用配置" tabindex="-1"><a class="header-anchor" href="#实际应用配置"><span>实际应用配置</span></a></h2><h3 id="_1-修改-hosts-文件" tabindex="-1"><a class="header-anchor" href="#_1-修改-hosts-文件"><span>1. 修改 hosts 文件</span></a></h3><div class="language-text" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># Windows: C:\\Windows\\System32\\drivers\\etc\\hosts</span></span>
<span class="line"><span># Linux/Mac: /etc/hosts</span></span>
<span class="line"><span></span></span>
<span class="line"><span>104.16.123.96    example.com</span></span>
<span class="line"><span>104.16.124.96    www.example.com</span></span></code></pre></div><h3 id="_2-dns-设置" tabindex="-1"><a class="header-anchor" href="#_2-dns-设置"><span>2. DNS 设置</span></a></h3><div class="language-bash" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用 dig 命令验证</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dig</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @8.8.8.8</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> example.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置自定义DNS解析</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;nameserver 1.1.1.1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/etc/resolv.conf</span></span></code></pre></div><h3 id="_3-反向代理配置" tabindex="-1"><a class="header-anchor" href="#_3-反向代理配置"><span>3. 反向代理配置</span></a></h3><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">upstream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cloudflare {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 104.16.123.96:443;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 104.16.124.96:443;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 104.16.125.96:443;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ssl;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server_name </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">example.com;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        proxy_pass </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https://cloudflare;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        proxy_ssl_server_name </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Host $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><h3 id="⚠️-重要提醒" tabindex="-1"><a class="header-anchor" href="#⚠️-重要提醒"><span>⚠️ 重要提醒</span></a></h3><ol><li><strong>定期更新</strong> - IP地址会变化，需要定期重新测试</li><li><strong>地域差异</strong> - 不同地区的最优IP可能不同</li><li><strong>时间变化</strong> - 网络状况会随时间变化</li><li><strong>备用方案</strong> - 准备多个优选IP作为备用</li></ol><h3 id="🔧-最佳实践" tabindex="-1"><a class="header-anchor" href="#🔧-最佳实践"><span>🔧 最佳实践</span></a></h3><ul><li>每周进行一次完整测试</li><li>保留前10个最优IP地址</li><li>监控实际使用效果</li><li>建立自动化测试流程</li></ul><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>Cloudflare 优选IP 是提升网站性能的重要手段。通过正确的测试和配置，可以显著改善用户体验。记住要定期更新测试结果，并根据实际情况调整配置。</p><h2 id="相关链接" tabindex="-1"><a class="header-anchor" href="#相关链接"><span>相关链接</span></a></h2>`,24)),i("ul",null,[s[1]||(s[1]=i("li",null,[i("a",{href:"https://developers.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"},"Cloudflare 官方文档")],-1)),s[2]||(s[2]=i("li",null,[i("a",{href:"https://github.com/XIU2/CloudflareSpeedTest",target:"_blank",rel:"noopener noreferrer"},"CloudflareST 项目地址")],-1)),i("li",null,[l(t,{to:"/resources/cloudflare-%E4%BC%98%E9%80%89ip/advanced-optimization.html"},{default:p(()=>[...s[0]||(s[0]=[o("CDN 优化指南",-1)])]),_:1})])])])}const A=h(k,[["render",c]]),f=JSON.parse(`{"path":"/resources/collections/cloudflare-%E4%BC%98%E9%80%89ip/basic-tutorial.html","title":"Cloudflare 优选IP 基础教程","lang":"zh-CN","frontmatter":{"title":"Cloudflare 优选IP 基础教程","icon":"cloud","date":"2025-01-15T00:00:00.000Z","category":["资源导航","Cloudflare"],"tag":["优选IP","CDN","网络优化"],"star":true,"description":"Cloudflare 优选IP 基础教程 什么是 Cloudflare 优选IP Cloudflare 优选IP 是指通过测试和筛选，找出延迟最低、连接最稳定的 Cloudflare CDN 节点IP地址。通过使用优选IP，可以显著提升网站的访问速度和稳定性。 为什么需要优选IP 🚀 主要优势 降低延迟 - 选择距离最近、响应最快的节点 提高稳定性 ...","head":[["meta",{"property":"og:url","content":"https://cactusli.net/resources/collections/cloudflare-%E4%BC%98%E9%80%89ip/basic-tutorial.html"}],["meta",{"property":"og:site_name","content":"Cactus's Blog"}],["meta",{"property":"og:title","content":"Cloudflare 优选IP 基础教程"}],["meta",{"property":"og:description","content":"Cloudflare 优选IP 基础教程 什么是 Cloudflare 优选IP Cloudflare 优选IP 是指通过测试和筛选，找出延迟最低、连接最稳定的 Cloudflare CDN 节点IP地址。通过使用优选IP，可以显著提升网站的访问速度和稳定性。 为什么需要优选IP 🚀 主要优势 降低延迟 - 选择距离最近、响应最快的节点 提高稳定性 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-09T01:57:44.000Z"}],["meta",{"property":"article:tag","content":"优选IP"}],["meta",{"property":"article:tag","content":"CDN"}],["meta",{"property":"article:tag","content":"网络优化"}],["meta",{"property":"article:published_time","content":"2025-01-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-09T01:57:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cloudflare 优选IP 基础教程\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-01-15T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-09T01:57:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cactus li\\",\\"url\\":\\"https://cactusli.net\\"}]}"]]},"headers":[{"level":2,"title":"什么是 Cloudflare 优选IP","slug":"什么是-cloudflare-优选ip","link":"#什么是-cloudflare-优选ip","children":[]},{"level":2,"title":"为什么需要优选IP","slug":"为什么需要优选ip","link":"#为什么需要优选ip","children":[{"level":3,"title":"🚀 主要优势","slug":"🚀-主要优势","link":"#🚀-主要优势","children":[]},{"level":3,"title":"📊 性能提升","slug":"📊-性能提升","link":"#📊-性能提升","children":[]}]},{"level":2,"title":"优选IP 工作原理","slug":"优选ip-工作原理","link":"#优选ip-工作原理","children":[{"level":3,"title":"基本流程","slug":"基本流程","link":"#基本流程","children":[]},{"level":3,"title":"关键指标","slug":"关键指标","link":"#关键指标","children":[]}]},{"level":2,"title":"常用测试工具","slug":"常用测试工具","link":"#常用测试工具","children":[{"level":3,"title":"1. CloudflareST","slug":"_1-cloudflarest","link":"#_1-cloudflarest","children":[]},{"level":3,"title":"2. 在线测试工具","slug":"_2-在线测试工具","link":"#_2-在线测试工具","children":[]},{"level":3,"title":"3. 自定义脚本","slug":"_3-自定义脚本","link":"#_3-自定义脚本","children":[]}]},{"level":2,"title":"实际应用配置","slug":"实际应用配置","link":"#实际应用配置","children":[{"level":3,"title":"1. 修改 hosts 文件","slug":"_1-修改-hosts-文件","link":"#_1-修改-hosts-文件","children":[]},{"level":3,"title":"2. DNS 设置","slug":"_2-dns-设置","link":"#_2-dns-设置","children":[]},{"level":3,"title":"3. 反向代理配置","slug":"_3-反向代理配置","link":"#_3-反向代理配置","children":[]}]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[{"level":3,"title":"⚠️ 重要提醒","slug":"⚠️-重要提醒","link":"#⚠️-重要提醒","children":[]},{"level":3,"title":"🔧 最佳实践","slug":"🔧-最佳实践","link":"#🔧-最佳实践","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":2,"title":"相关链接","slug":"相关链接","link":"#相关链接","children":[]}],"git":{"createdTime":1757383064000,"updatedTime":1757383064000,"contributors":[{"name":"Dell","username":"Dell","email":"1183895890@qq.com","commits":1,"url":"https://github.com/Dell"}]},"readingTime":{"minutes":2.29,"words":686},"filePathRelative":"resources/collections/cloudflare-优选ip/basic-tutorial.md","localizedDate":"2025年1月15日","excerpt":"\\n<h2>什么是 Cloudflare 优选IP</h2>\\n<p>Cloudflare 优选IP 是指通过测试和筛选，找出延迟最低、连接最稳定的 Cloudflare CDN 节点IP地址。通过使用优选IP，可以显著提升网站的访问速度和稳定性。</p>\\n<h2>为什么需要优选IP</h2>\\n<h3>🚀 主要优势</h3>\\n<ol>\\n<li><strong>降低延迟</strong> - 选择距离最近、响应最快的节点</li>\\n<li><strong>提高稳定性</strong> - 避开网络状况不佳的节点</li>\\n<li><strong>优化用户体验</strong> - 加快页面加载速度</li>\\n<li><strong>节省带宽</strong> - 减少重复请求和超时</li>\\n</ol>","autoDesc":true}`);export{A as comp,f as data};
