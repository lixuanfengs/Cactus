import{_ as i,e as t,o,c,b as s,g as n,f as a,h as l}from"./app-CWFajf3D.js";const p={},r=s("h2",{id:"ğŸ”¨-æ­å»º-cactus",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#ğŸ”¨-æ­å»º-cactus"},[s("span",null,"ğŸ”¨ æ­å»º Cactus")])],-1),g={href:"https://github.com/lixuanfengs/Cactus",target:"_blank",rel:"noopener noreferrer"},d=s("figure",null,[s("img",{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170117254.png",alt:"image-20240306170117254",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240306170117254")],-1),u=s("figure",null,[s("img",{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170313963.png",alt:"image-20240306170313963",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240306170313963")],-1),m=s("li",null,[s("p",null,[n("æ¥ç€ï¼Œè¿›å…¥é¡¹ç›®ä»“åº“çš„ã€ŒSettingsã€>ã€ŒActionsã€>ã€ŒGeneralã€ï¼Œé€‰ä¸­åº•éƒ¨ Workflow permissions ä¸­çš„ "),s("code",null,"Read and write permissions"),n("ï¼Œç„¶åç‚¹å‡»ä¿å­˜å³å¯ã€‚å¦‚æœæœªæˆæƒï¼ŒGitHub Page éƒ¨ç½²ä¼šç”±äº repo æƒé™ä¸è¶³è€ŒæŠ¥é”™ "),s("code",null,"failed with exit code 128"),n("ã€‚")]),s("figure",null,[s("img",{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306171213682.png",alt:"image-20240306171213682",tabindex:"0",loading:"lazy"}),s("figcaption",null,"image-20240306171213682")])],-1),b=s("li",null,[s("p",null,"æ¥ä¸‹æ¥ï¼Œè¯·è¿›å…¥èœå•æ é¡¶éƒ¨çš„ã€ŒActionsã€>ã€Œæœ€æ–°çš„ workflowã€ï¼Œå¹¶ç‚¹å‡»å³ä¸Šæ–¹çš„ã€ŒRe-run jobsã€>ã€ŒRe-run all jobsã€ï¼Œä»¥é‡æ–°ç”Ÿæˆç½‘é¡µã€‚è‹¥éƒ¨ç½²æ­£ç¡®ï¼ŒGitHub å°†è‡ªåŠ¨æ­å»º gh-page åˆ†æ”¯é¡µé¢ã€‚")],-1),h=l('<h2 id="ğŸ€é…ç½®-cactus" tabindex="-1"><a class="header-anchor" href="#ğŸ€é…ç½®-cactus"><span>ğŸ€é…ç½® Cactus</span></a></h2><h2 id="ğŸ¯éƒ¨ç½²-cactus" tabindex="-1"><a class="header-anchor" href="#ğŸ¯éƒ¨ç½²-cactus"><span>ğŸ¯éƒ¨ç½² Cactus</span></a></h2><h3 id="éƒ¨ç½²åˆ°-vercel" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²åˆ°-vercel"><span>éƒ¨ç½²åˆ° Vercel</span></a></h3><p>Vercel çš„é€Ÿåº¦ç›¸å¯¹ GitHub Pages æ›´å¿«ï¼Œä½† <code>*.vercel.app</code> åŸŸåå·²å— DNS æ±¡æŸ“å½±å“ã€‚ä¸ºä¿è¯å›½å†…ç”¨æˆ·è®¿é—®ç¨³å®šï¼Œéœ€ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚</p><p>Vercel éƒ¨ç½²æ­¥éª¤å¦‚ä¸‹ï¼š</p>',5),y={href:"https://vercel.com/new/clone?repository-url=https://github.com/lixuanfengs/Cactus/tree/gh-pages",target:"_blank",rel:"noopener noreferrer"},v=s("img",{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/68747470733a2f2f76657263656c2e636f6d2f627574746f6e",alt:"Vercel",loading:"lazy"},null,-1),B=s("code",null,"https://vercel.com/new/clone?repository-url=https://github.com/lixuanfengs/Cactus/tree/gh-pages",-1),f=s("code",null,"rockbenben/Cactus",-1),D=s("code",null,"ä½ çš„ç”¨æˆ·å/ä»“åº“å",-1),x=s("li",null,[n("è¾“å…¥ä¸€ä¸ªä½ å–œæ¬¢çš„ Vercel é¡¹ç›®åç§°ï¼Œé»˜è®¤ private å³å¯ï¼Œç„¶åç‚¹å‡» "),s("code",null,"Create"),n("ã€‚")],-1),C=l(`<figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307101726683.png" alt="image-20240307101726683" tabindex="0" loading="lazy"><figcaption>image-20240307101726683</figcaption></figure><ol start="3"><li><p>æ¥ç€ï¼ŒVercel ä¼šåŸºäº Cactus æ¨¡æ¿å¸®åŠ©ä½ æ–°å»ºå¹¶åˆå§‹åŒ–ä»“åº“ï¼Œä»“åº“åä¸ºä½ ä¹‹å‰è¾“å…¥çš„é¡¹ç›®åã€‚å‡ åç§’åï¼Œæ»¡å±çš„çƒŸèŠ±ä¼šåº†ç¥ä½ éƒ¨ç½²æˆåŠŸã€‚æ­¤æ—¶ï¼Œç‚¹å‡» <code>Go to Dashboard</code> è·³è½¬åˆ°åº”ç”¨çš„æ§åˆ¶å°ã€‚</p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307101851481.png" alt="image-20240307101851481" tabindex="0" loading="lazy"><figcaption>image-20240307101851481</figcaption></figure></li><li><p>ä¸ºäº†è®© Vercel é¡µé¢ä¸ GitHub Pages è‡ªåŠ¨ä¿æŒåŒæ­¥æ›´æ–°ï¼Œä½ éœ€è¦é…ç½® <code>VERCEL_TOKEN</code>ã€<code>VERCEL_ORG_ID</code>ã€<code>VERCEL_PROJECT_ID</code>ã€ å’Œ GitHub Actionsã€‚</p><ul><li>åœ¨ Vercel æ§åˆ¶é¢æ¿é€‰æ‹© [settings ] &gt; [Tokens] &gt; [Create] åˆ›å»º <code>VERCEL_TOKEN</code>ï¼Œå¤åˆ¶ Tokens åˆ° github ä¸­ [settings ] &gt; [Secrets and variables] &gt; [Actions] &gt; [new repository secret] åˆ›å»º <code>VERCEL_TOKEN</code> ä»“åº“å¯†é’¥ã€‚</li><li>åœ¨ Vercel æ§åˆ¶é¢æ¿é€‰æ‹© [settings ] &gt; [General] &gt; [Vercel ID] ï¼Œå¤åˆ¶ Vercel ID åˆ° github ä¸­ [settings ] &gt; [Secrets and variables] &gt; [Actions] &gt; [new repository secret] åˆ›å»º <code>VERCEL_ORG_ID</code> ä»“åº“å¯†é’¥ã€‚</li><li>åœ¨ Vercel æ§åˆ¶é¢æ¿é€‰æ‹© [Project Settings] &gt; [General] &gt; [Project ID] ï¼Œå¤åˆ¶ Project ID åˆ° github ä¸­ [settings ] &gt; [Secrets and variables] &gt; [Actions] &gt; [new repository secret] åˆ›å»º <code>VERCEL_PROJECT_ID</code> ä»“åº“å¯†é’¥ã€‚</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># å°†é¡µé¢æ›´æ–°åˆ° Vercel</span></span>
<span class="line"><span style="color:#ABB2BF;">      - </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">éƒ¨ç½²åˆ° Vercel</span></span>
<span class="line"><span style="color:#E06C75;">        uses</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">amondnet/vercel-action@v20</span><span style="color:#7F848E;font-style:italic;"> # ä½¿ç”¨Vercel Action</span></span>
<span class="line"><span style="color:#E06C75;">        with</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#E06C75;">          vercel-token</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">\${{ secrets.VERCEL_TOKEN }}</span><span style="color:#7F848E;font-style:italic;"> # ä½¿ç”¨å­˜å‚¨åœ¨Secretsçš„Vercel Token</span></span>
<span class="line"><span style="color:#E06C75;">          vercel-org-id</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">\${{ secrets.VERCEL_ORG_ID }}</span><span style="color:#7F848E;font-style:italic;"> # ä½ çš„Vercelç»„ç»‡ID</span></span>
<span class="line"><span style="color:#E06C75;">          vercel-project-id</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">\${{ secrets.VERCEL_PROJECT_ID }}</span><span style="color:#7F848E;font-style:italic;"> # ä½ çš„Vercelé¡¹ç›®ID</span></span>
<span class="line"><span style="color:#E06C75;">          vercel-args</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;--prod&#39;</span><span style="color:#7F848E;font-style:italic;"> # éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><blockquote><p>æ³¨æ„åœ¨ vercel æ§åˆ¶å°å¦‚æœå‡ºç°äº†éƒ¨ç½²é”™è¯¯å¯èƒ½æ˜¯å› ä¸ºmainå’Œgh-pages æŸä¸€ä¸ªåˆ†æ”¯éƒ¨ç½²é”™äº†ã€‚æ‰¾åˆ° Vercel æ§åˆ¶é¢æ¿é€‰æ‹© [Project Settings] &gt; [git] &gt; [Production Branch] (æ¡†é‡Œå†™ main)ã€‚ç„¶ååœ¨ä¸‹é¢æ‰¾åˆ° [Ignored Build Step] &gt; [custom] å¡«å…¥ ã€bash -c &#39;if [[ &quot;$VERCEL_GIT_COMMIT_REF&quot; == &quot;gh-pages&quot; ]]; then exit 0; fi&#39;ã€‘</p></blockquote><h3 id="ä½¿ç”¨-docker-éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-docker-éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š"><span>ä½¿ç”¨ Docker éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š</span></a></h3><h4 id="ä¸€ã€æ­å»ºå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€æ­å»ºå‡†å¤‡"><span>ä¸€ã€æ­å»ºå‡†å¤‡</span></a></h4><h4 id="äºŒã€é¡¹ç›®ç»“æ„è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#äºŒã€é¡¹ç›®ç»“æ„è¯´æ˜"><span>äºŒã€é¡¹ç›®ç»“æ„è¯´æ˜</span></a></h4><p>é¦–å…ˆæŠŠåšå®¢çŸ¥è¯†æ¡†æ¶å…‹éš†åˆ°æœ¬åœ°ã€‚</p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307163754657.png" alt="image-20240307163754657" tabindex="0" loading="lazy"><figcaption>image-20240307163754657</figcaption></figure><ul><li>src ç›®å½•ä¸‹ï¼Œæ˜¯åšå®¢çš„æ¡†æ¶æ¨¡æ¿å’Œå·²ç»å†™å¥½çš„æ–‡ç« å†…å®¹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>package.json</code>ä¸­çš„ <code>docs:build</code> ç”¨äºæ„å»ºï¼Œ <code>docs:dev</code>ç”¨äºæœ¬åœ°å¯åŠ¨æµ‹è¯•ã€‚</li><li>dev-ops ç›®å½•æ˜¯æä¾›åšå®¢çš„éƒ¨ç½²ï¼Œè¿™é‡Œçš„ docker-compose.yml æ˜¯ Docker æ‰§è¡Œè„šæœ¬å®‰è£… Nginx ç¯å¢ƒã€‚</li><li>åœ¨ <code>src/.vuepress-&gt; config.ts</code>æ–‡ä»¶ä¸­ä¸‹é…ç½®äº†æŠŠé¡¹ç›® build åˆ° nginx/html æ–‡ä»¶å¤¹ã€‚è¿™æ ·å¯ä»¥æ›´åŠ æ–¹ä¾¿æˆ‘ä»¬éƒ¨ç½²ã€‚</li></ul><h4 id="ä¸‰ã€éƒ¨ç½²é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€éƒ¨ç½²é¡¹ç›®"><span>ä¸‰ã€éƒ¨ç½²é¡¹ç›®</span></a></h4><p>ä½¿ç”¨ WebStrom å‰ç«¯å¼€å‘å·¥å…·ï¼Œæ‰“å¼€å…‹éš†åˆ°æœ¬åœ°çš„é¡¹ç›®ã€‚åœ¨å·¥å…·ç•Œé¢ä¼šæç¤ºä½ æ‰§è¡Œ npm install å®‰è£…é¡¹ç›®è¿è¡Œå’Œéƒ¨ç½²æ‰€éœ€çš„ç¯å¢ƒã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°æç¤ºçš„è¯ï¼Œå¯ä»¥æ‰“å¼€ Terminal çª—å£ã€‚æ‰§è¡Œå®‰è£…å‘½ä»¤å°±å¯ä»¥åšä¸‹ä¸€æ­¥çš„åšå®¢éƒ¨ç½²å·¥ä½œäº†ã€‚</p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307165049368.png" alt="image-20240307165049368" tabindex="0" loading="lazy"><figcaption>image-20240307165049368</figcaption></figure><ol><li><p><strong>æ„å»ºé¡¹ç›®</strong></p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307171205175.png" alt="image-20240307171205175" tabindex="0" loading="lazy"><figcaption>image-20240307171205175</figcaption></figure><ul><li>æ‰“å¼€é¡¹ç›®çš„ <code>package.json</code>é‡Œé¢æœ‰<code>æ„å»º</code>å’Œ<code>è¿è¡Œ</code>å‘½åã€‚</li><li>æ„å»ºçš„æ“ä½œä¼šæŠŠå·¥ç¨‹æ‰“åŒ…ä¸º HTML æ–‡ä»¶å†™å…¥åˆ° dev-ops/nginx/html æ–‡ä»¶å¤¹ä¸‹ã€‚</li><li>è¿è¡Œçš„æ“ä½œä¼šç›´æ¥æœ¬åœ°å¯åŠ¨æœåŠ¡ï¼Œå¯åŠ¨åä½ å¯ä»¥åœ¨æœ¬åœ°é¢„è§ˆã€‚è¿™æ ·ä½ åœ¨ä¿®æ”¹ä¸€äº›å†…å®¹çš„æ—¶å€™ä¹Ÿå¯ä»¥éšæ—¶çœ‹åˆ°æ•ˆæœã€‚</li></ul></li><li><p><strong>æ„å»ºç»“æœ</strong></p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307170359320.png" alt="image-20240307170359320" tabindex="0" loading="lazy"><figcaption>image-20240307170359320</figcaption></figure><ul><li>å¦‚å›¾æ“ä½œï¼Œå®Œæˆæ„å»ºã€‚å½“çœ‹åˆ°<code>dev-ops/nginx/html</code> ä¸‹å‡ºç°æ„å»ºåçš„é™æ€æ–‡ä»¶ï¼Œè¡¨ç¤ºæ„å»ºæˆåŠŸã€‚</li></ul></li><li><p><strong>é…ç½® Nginx</strong></p><p>Nginx æä¾›äº†ä¸‰ç§é…ç½®æ–¹å¼ï¼Œåˆ†åˆ«æ”¯æŒè®¿é—®ç±»å‹ï¼šIP åœ°å€ç›´æ¥è®¿é—®ã€é€šè¿‡ HTTP åè®®è®¿é—®åŸŸåã€é€šè¿‡ HTTPS åè®®è®¿é—®åŸŸåã€‚</p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307171739941.png" alt="image-20240307171739941" tabindex="0" loading="lazy"><figcaption>image-20240307171739941</figcaption></figure><ol><li><p><strong>localhost.conf</strong></p><p>è¿™ä¸ªé…ç½®æ–¹å¼ä¸ºäº†æ–¹ä¾¿ï¼Œæ²¡æœ‰åŸŸåçš„ä¼™ä¼´ä»¬æµ‹è¯•ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯ä½ éƒ¨ç½²åå¯ä»¥ç›´æ¥é€šè¿‡IPè¿›è¡Œè®¿é—®ã€‚</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">server</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#D19A66;">      80</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#ABB2BF;"> [::]:80;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> / {</span></span>
<span class="line"><span style="color:#C678DD;">       root </span><span style="color:#ABB2BF;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#C678DD;">       index </span><span style="color:#ABB2BF;">index.html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    error_page </span><span style="color:#D19A66;">  500</span><span style="color:#D19A66;"> 502</span><span style="color:#D19A66;"> 503</span><span style="color:#D19A66;"> 504</span><span style="color:#ABB2BF;">  /50x.html;</span></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> = </span><span style="color:#E06C75;">/50x.html </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">        root </span><span style="color:#ABB2BF;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›´æ¥æŠŠ 80 è¯·æ±‚è½¬å‘åˆ°æœ¬åœ°çš„æ ¹ç›®å½•åœ°å€çš„ html æ–‡ä»¶ä¸Šå³å¯</li></ul></li><li><p><strong>http.blog.conf</strong></p><p>å¦‚æœæ˜¯äº‘æœåŠ¡å™¨å’ŒåŸŸåï¼Œé¦–å…ˆå…ˆé…ç½®åŸŸåè§£æã€‚</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">server</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#D19A66;">      80</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#ABB2BF;"> [::]:80;</span></span>
<span class="line"><span style="color:#C678DD;">    server_name </span><span style="color:#ABB2BF;"> blog.cactusli.net;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> / {</span></span>
<span class="line"><span style="color:#C678DD;">       root </span><span style="color:#ABB2BF;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#C678DD;">       index </span><span style="color:#ABB2BF;">index.html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    error_page </span><span style="color:#D19A66;">  500</span><span style="color:#D19A66;"> 502</span><span style="color:#D19A66;"> 503</span><span style="color:#D19A66;"> 504</span><span style="color:#ABB2BF;">  /50x.html;</span></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> = </span><span style="color:#E06C75;">/50x.html </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">        root </span><span style="color:#ABB2BF;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>https.blog.conf</strong></p><p>å¦‚æœä½ æœ‰åŸŸåé‚£ä¹ˆè¿˜å¯ä»¥é…ç½®å…è´¹çš„ssléªŒè¯ï¼Œé…ç½®å®ŒæˆåæŠŠ ssl keyã€pem æ–‡ä»¶æ”¾åˆ° dev-ops/nginx/ssl æ–‡ä»¶å¤¹ä¸‹å¹¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ä¸Šã€‚</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><pre class="shiki one-dark-pro" style="background-color:#282c34;color:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">server</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#D19A66;">      80</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#ABB2BF;"> [::]:80;</span></span>
<span class="line"><span style="color:#C678DD;">    server_name </span><span style="color:#ABB2BF;"> blog.cactusli.net;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    rewrite</span><span style="color:#E06C75;"> ^(.*) https://$</span><span style="color:#ABB2BF;">server_name$</span><span style="color:#E06C75;">1</span><span style="color:#C678DD;"> permanent</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">server</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">    listen </span><span style="color:#D19A66;">      443</span><span style="color:#ABB2BF;"> ssl;</span></span>
<span class="line"><span style="color:#C678DD;">    server_name </span><span style="color:#ABB2BF;"> api.cactusli.net;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    ssl_certificate </span><span style="color:#ABB2BF;">     /etc/nginx/ssl/blogs.cactusli.net.pem;</span></span>
<span class="line"><span style="color:#C678DD;">    ssl_certificate_key </span><span style="color:#ABB2BF;"> /etc/nginx/ssl/blogs.cactusli.net.key;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    ssl_session_cache </span><span style="color:#ABB2BF;">   shared:SSL:1m;</span></span>
<span class="line"><span style="color:#C678DD;">    ssl_session_timeout </span><span style="color:#D19A66;"> 5m</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    ssl_ciphers </span><span style="color:#ABB2BF;"> HIGH:!aNULL:!MD5;</span></span>
<span class="line"><span style="color:#C678DD;">    ssl_prefer_server_ciphers </span><span style="color:#D19A66;"> on</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> / {</span></span>
<span class="line"><span style="color:#C678DD;">         root </span><span style="color:#ABB2BF;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#C678DD;">         index </span><span style="color:#ABB2BF;">index.html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    error_page </span><span style="color:#D19A66;">  500</span><span style="color:#D19A66;"> 502</span><span style="color:#D19A66;"> 503</span><span style="color:#D19A66;"> 504</span><span style="color:#ABB2BF;">  /50x.html;</span></span>
<span class="line"><span style="color:#C678DD;">    location</span><span style="color:#ABB2BF;"> = </span><span style="color:#E06C75;">/50x.html </span><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">        root </span><span style="color:#ABB2BF;">  /usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸ªæ–¹å¼å°±æ˜¯é…ç½® ssl çš„æ–¹å¼ã€‚</li></ul></li></ol></li><li><p><strong>ä¸Šä¼ æ–‡ä»¶</strong></p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307182607039.png" alt="image-20240307182607039" tabindex="0" loading="lazy"><figcaption>image-20240307182607039</figcaption></figure><ul><li>é€šè¿‡<code>SSH/FTP</code> å·¥å…·ï¼Œè¿æ¥äº‘æœåŠ¡å™¨ï¼Œå¹¶æŠŠæˆ‘ä»¬åœ¨å·¥ç¨‹ä¸‹åˆ›å»ºçš„ <code>dev-ops</code> ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ç«¯ã€‚</li></ul></li><li><p><strong>æœåŠ¡å¯åŠ¨</strong></p><p>æ¥ä¸‹æ¥ï¼Œä½ åªéœ€è¦åŠ¡å™¨è¿›å…¥åˆ° dev-ops æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œè„šæœ¬ <code>docker compose -f docker-compose.yml up -d</code> å³å¯å®Œæˆéƒ¨ç½²ã€‚</p><figure><img src="https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307182717011.png" alt="image-20240307182717011" tabindex="0" loading="lazy"><figcaption>image-20240307182717011</figcaption></figure></li><li><p><strong>è®¿é—®æµ‹è¯•</strong></p></li></ol>`,13);function A(_,F){const e=t("ExternalLinkIcon");return o(),c("div",null,[r,s("ol",null,[s("li",null,[s("p",null,[n("é¦–å…ˆï¼Œè¿›å…¥ "),s("a",g,[n("Cactus"),a(e)]),n(" é¡¹ç›®é¡µï¼Œç‚¹å‡»å³ä¸Šè§’ã€ŒUse this templateã€åé€‰æ‹©ã€ŒCreate a new repositoryã€ã€‚")]),d,u]),m,b]),h,s("ol",null,[s("li",null,[n("ç‚¹å‡» "),s("a",y,[v,a(e)]),n(" æˆ–å°† "),B,n(" ä¸­çš„ "),f,n(" æ”¹ä¸º "),D,n("ï¼Œç„¶åä¼šè·³è½¬è‡³ Vercel è¿›è¡Œç½‘é¡µéƒ¨ç½²ã€‚å¦‚æœä½ æœªç™»å½•ï¼ŒVercel æç¤ºä½ æ³¨å†Œæˆ–ç™»å½•ï¼Œè¯·ä½¿ç”¨ GitHub è´¦æˆ·è¿›è¡Œå¿«æ·ç™»å½•ã€‚")]),x]),C])}const k=i(p,[["render",A],["__file","cactus.html.vue"]]),V=JSON.parse(`{"path":"/blog/cactus.html","title":"Cactus æ­å»ºä¸ªäººåšå®¢","lang":"zh-CN","frontmatter":{"title":"Cactus æ­å»ºä¸ªäººåšå®¢","icon":"read","date":"2024-03-03T12:00:00.000Z","category":["Blog"],"tag":["Blog"],"description":"ğŸ”¨ æ­å»º Cactus é¦–å…ˆï¼Œè¿›å…¥ Cactus é¡¹ç›®é¡µï¼Œç‚¹å‡»å³ä¸Šè§’ã€ŒUse this templateã€åé€‰æ‹©ã€ŒCreate a new repositoryã€ã€‚ image-20240306170117254image-20240306170117254 image-20240306170313963image-20240306170313963...","head":[["meta",{"property":"og:url","content":"https://cactusli.net/blog/cactus.html"}],["meta",{"property":"og:site_name","content":"Cactus's Blog"}],["meta",{"property":"og:title","content":"Cactus æ­å»ºä¸ªäººåšå®¢"}],["meta",{"property":"og:description","content":"ğŸ”¨ æ­å»º Cactus é¦–å…ˆï¼Œè¿›å…¥ Cactus é¡¹ç›®é¡µï¼Œç‚¹å‡»å³ä¸Šè§’ã€ŒUse this templateã€åé€‰æ‹©ã€ŒCreate a new repositoryã€ã€‚ image-20240306170117254image-20240306170117254 image-20240306170313963image-20240306170313963..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170117254.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-26T02:13:28.000Z"}],["meta",{"property":"article:author","content":"Cactus li"}],["meta",{"property":"article:tag","content":"Blog"}],["meta",{"property":"article:published_time","content":"2024-03-03T12:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-26T02:13:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cactus æ­å»ºä¸ªäººåšå®¢\\",\\"image\\":[\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170117254.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170313963.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306171213682.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/68747470733a2f2f76657263656c2e636f6d2f627574746f6e\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307101726683.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307101851481.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307163754657.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307165049368.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307171205175.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307170359320.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307171739941.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307182607039.png\\",\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240307182717011.png\\"],\\"datePublished\\":\\"2024-03-03T12:00:00.000Z\\",\\"dateModified\\":\\"2024-04-26T02:13:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Cactus li\\",\\"url\\":\\"https://cactusli.net\\"}]}"]]},"headers":[{"level":2,"title":"ğŸ”¨ æ­å»º Cactus","slug":"ğŸ”¨-æ­å»º-cactus","link":"#ğŸ”¨-æ­å»º-cactus","children":[]},{"level":2,"title":"ğŸ€é…ç½® Cactus","slug":"ğŸ€é…ç½®-cactus","link":"#ğŸ€é…ç½®-cactus","children":[]},{"level":2,"title":"ğŸ¯éƒ¨ç½² Cactus","slug":"ğŸ¯éƒ¨ç½²-cactus","link":"#ğŸ¯éƒ¨ç½²-cactus","children":[{"level":3,"title":"éƒ¨ç½²åˆ° Vercel","slug":"éƒ¨ç½²åˆ°-vercel","link":"#éƒ¨ç½²åˆ°-vercel","children":[]},{"level":3,"title":"ä½¿ç”¨ Docker éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š","slug":"ä½¿ç”¨-docker-éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š","link":"#ä½¿ç”¨-docker-éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š","children":[]}]}],"git":{"createdTime":1709710899000,"updatedTime":1714097608000,"contributors":[{"name":"lixuanfengs","email":"1183895890@qq.com","commits":2}]},"readingTime":{"minutes":4.95,"words":1484},"filePathRelative":"blog/cactus.md","localizedDate":"2024å¹´3æœˆ3æ—¥","excerpt":"<h2>ğŸ”¨ æ­å»º Cactus</h2>\\n<ol>\\n<li>\\n<p>é¦–å…ˆï¼Œè¿›å…¥ <a href=\\"https://github.com/lixuanfengs/Cactus\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Cactus</a> é¡¹ç›®é¡µï¼Œç‚¹å‡»å³ä¸Šè§’ã€ŒUse this templateã€åé€‰æ‹©ã€ŒCreate a new repositoryã€ã€‚</p>\\n<figure><img src=\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170117254.png\\" alt=\\"image-20240306170117254\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image-20240306170117254</figcaption></figure>\\n<figure><img src=\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306170313963.png\\" alt=\\"image-20240306170313963\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image-20240306170313963</figcaption></figure>\\n</li>\\n<li>\\n<p>æ¥ç€ï¼Œè¿›å…¥é¡¹ç›®ä»“åº“çš„ã€ŒSettingsã€&gt;ã€ŒActionsã€&gt;ã€ŒGeneralã€ï¼Œé€‰ä¸­åº•éƒ¨ Workflow permissions ä¸­çš„ <code>Read and write permissions</code>ï¼Œç„¶åç‚¹å‡»ä¿å­˜å³å¯ã€‚å¦‚æœæœªæˆæƒï¼ŒGitHub Page éƒ¨ç½²ä¼šç”±äº repo æƒé™ä¸è¶³è€ŒæŠ¥é”™ <code>failed with exit code 128</code>ã€‚</p>\\n<figure><img src=\\"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20240306171213682.png\\" alt=\\"image-20240306171213682\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image-20240306171213682</figcaption></figure>\\n</li>\\n<li>\\n<p>æ¥ä¸‹æ¥ï¼Œè¯·è¿›å…¥èœå•æ é¡¶éƒ¨çš„ã€ŒActionsã€&gt;ã€Œæœ€æ–°çš„ workflowã€ï¼Œå¹¶ç‚¹å‡»å³ä¸Šæ–¹çš„ã€ŒRe-run jobsã€&gt;ã€ŒRe-run all jobsã€ï¼Œä»¥é‡æ–°ç”Ÿæˆç½‘é¡µã€‚è‹¥éƒ¨ç½²æ­£ç¡®ï¼ŒGitHub å°†è‡ªåŠ¨æ­å»º gh-page åˆ†æ”¯é¡µé¢ã€‚</p>\\n</li>\\n</ol>","autoDesc":true}`);export{k as comp,V as data};
